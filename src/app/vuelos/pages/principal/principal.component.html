<app-navbar></app-navbar>
<div class="position-relative">
  <img
    src="assets/img/vuelos-img.jpg"
    alt=""
    class="img-fluid d-nones d-xl-block"
  />
  <div
    class="d-none d-xl-block position-absolute start-50 top-50 translate-middle"
  >
    <p class="fw-bold text-white fs-1">Viaja con nosotros...</p>
    <div class="rounded p-3 bg-cp" style="margin-bottom: 40%; width: 1150px">
      <form [formGroup]="formulario">
        <div class="d-flex align-items-center">
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="tipoVuelo"
              value="idavuelta"
              formControlName="tipoVuelo"
              id="flexRadioDefault1"
              (change)="cambiarTipo($event)"
            />
            <label
              class="form-check-label fw-bold fs-7"
              for="flexRadioDefault1"
            >
              Ida y vuelta
            </label>
          </div>
          <div class="form-check mx-2">
            <input
              class="form-check-input"
              type="radio"
              name="tipoVuelo"
              value="ida"
              id="flexRadioDefault2"
              (change)="cambiarTipo($event)"
            />
            <label
              class="form-check-label fw-bold fs-7"
              for="flexRadioDefault2"
            >
              Solo ida
            </label>
          </div>
        </div>
        <div class="d-flex align-items-center py-2 gap-3">
          <div>
            <app-ciudad-input
              (onEnter)="buscarCiudadOrigen($event)"
              (onDebounce)="sugerencias_origen($event)"
              (onSelected)="seleccionar_ciudad_origen($event)"
              placeholder="Origen"
              label="Desde"
              [ciudades]="ciudades_origen"
            >
            </app-ciudad-input>
          </div>
          <div>
            <app-ciudad-destino-input
              (onEnterDestino)="buscarCiudadDestino($event)"
              (onDebounceDestino)="sugerencias_destino($event)"
              (onSelectedDestino)="seleccionar_ciudad_destino($event)"
              placeholder="Destino"
              label="Hasta"
              [ciudades]="ciudades_destino"
            >
            </app-ciudad-destino-input>
          </div>
          <div>
            <label for="" class="fw-bold fs-8">Salida</label>
            <input
              type="date"
              formControlName="fecha_salida"
              class="form-control inp-height"
            />
          </div>
          <div *ngIf="validarTipoVuelo()">
            <label for="" class="fw-bold fs-8">Vuelta</label>
            <input
              type="date"
              formControlName="fecha_vuelta"
              class="form-control inp-height"
            />
          </div>
          <div>
            <label for="" class="fw-bold fs-8">Pasajeros</label>
            <div ngbDropdown>
              <button
                type="button"
                class="btn btn-light inp-height"
                id="dropdownForm1"
                ngbDropdownToggle
              >
                Seleccionar
              </button>
              <div
                ngbDropdownMenu
                aria-labelledby="dropdownForm1"
                style="width: 300px"
              >
                <div class="px-4 py-3">
                  <div class="mb-3 d-flex align-items-center">
                    <label for="formAdulto" class="me-md-3">Adultos</label>
                    <input
                      type="number"
                      class="form-control"
                      id="formAdulto"
                      placeholder="1"
                      formControlName="cantidadAdultos"
                    />
                  </div>
                  <div class="mb-3 d-flex align-items-center">
                    <label for="formChild" class="me-md-3">Niños</label>
                    <input
                      type="number"
                      class="form-control"
                      id="formChild"
                      placeholder="1"
                      formControlName="cantidadInfantes"
                    />
                  </div>
                  <div class="mb-3 d-flex align-items-center">
                    <label for="select-class" class="me-md-3">Clase</label>
                    <select
                      class="form-control"
                      formControlName="travelClass"
                      id="select-class"
                    >
                      <option value="">Selecciona una opción</option>
                      <option value="ECONOMY">Economia</option>
                      <option value="PREMIUM_ECONOMY">Economia Premium</option>
                      <option value="BUSINESS">Negocio</option>
                      <option value="FIRST">Primero</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="validarTipoVuelo()">
            <label for="exampleDataList" class="form-label fw-bold fs-8 m-0"
              >Busqueda</label
            >
            <div
              class="btn btn-primary btn-lg inp-height align-self-end"
              (click)="buscarVuelo()"
            >
              Buscar
            </div>
          </div>
          <div *ngIf="!validarTipoVuelo()" class="busqueda-ida-container">
            <label for="exampleDataList" class="form-label fw-bold fs-8 m-0"
              >Busqueda</label
            >
            <div
              class="btn btn-primary btn-lg inp-height align-self-end"
              (click)="buscarVuelo()"
            >
              Buscar
            </div>
          </div>
        </div>
        <div class="d-flex align-items-center justify-content-between">
          <div>
            <div class="form-check form-check-inline">
              <input
                class="form-check-input"
                type="checkbox"
                id="flexCheckDefault"
                formControlName="vueloDirecto"
              />
              <label
                class="form-check-label fw-bold fs-8"
                for="flexCheckDefault"
              >
                Vuelos directos
              </label>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
<div>
  <div *ngIf="vuelos.length === 0 && yaBusco">
    <span class="mensajeError"> No hay datos </span>
  </div>

  <div class="row bordeGeneral m-1 mt-4" *ngIf="vuelos.length > 0">
    <div class="container text-left py-3">
      <h1>Lista vuelos</h1>
    </div>

    <table class="table table-hover">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Ultima fecha Emision Boletos</th>
          <th scope="col">Numero Asientos Reservables</th>
          <th scope="col">Divisa</th>
          <th scope="col">Total</th>
          <th scope="col">Detalle</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of vuelos; index as i">
          <th scope="row">{{ i + 1 }}</th>
          <td>{{ item.ultimaFechaEmisionBoletos }}</td>
          <td>{{ item.numeroAsientosReservables }}</td>
          <td>{{ item.divisa }}</td>
          <td>{{ item.total }}</td>
          <td><button class="btn btn-success">Ver</button></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
